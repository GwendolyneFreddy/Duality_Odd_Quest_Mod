BACKUP ~imnesvale/backup~
AUTHOR ~Duality (Dualities.Shadow@gmail.com)~

ALWAYS

	ACTION_IF NOT VARIABLE_IS_SET bg2_chapter BEGIN // Always block must run only once per install!

		// Determines which game is installed and if the game is an Enhanced Edition.
		OUTER_SET is_eet = (GAME_IS "eet") ? 1 : 0						// eet

		/* eet compatibility */
		ACTION_IF (is_eet) BEGIN
			OUTER_SET bg2_chapter = 12
		END ELSE BEGIN
			OUTER_SET bg2_chapter = 0
		END
		OUTER_FOR (i = 1 ; i <= 10 ; ++i) BEGIN
			OUTER_SET bg2_chapter = bg2_chapter + 1
			OUTER_SPRINT name_source ~bg2_chapter_%i%~
			OUTER_SET EVAL ~%name_source%~ = bg2_chapter
		END

	END

END


AUTO_TRA ~imnesvale/%s~

LANGUAGE ~English~
         ~english~
		 ~imnesvale/english/setup.tra~
		 ~imnesvale/english/misc.tra~


/* ====================== *
 *  Imnesvale Mod : Easy  *
 * ====================== */
BEGIN @1											// ~Easy~
SUBCOMPONENT @0										// ~Install Imnesvale Mod~
REQUIRE_PREDICATE GAME_IS ~tob bgt bg2ee eet~ @4	// ~You must have ToB, BGT, BG2:EE or EET installed to install this mod.~

OUTER_SPRINT difficulty "easy"
INCLUDE ~%MOD_FOLDER%/lib/main_component.tpa~


/* ====================== *
 *  Imnesvale Mod : Hard  *
 * ====================== */
BEGIN @2			// ~Hard~
SUBCOMPONENT @0
REQUIRE_PREDICATE GAME_IS ~tob bgt bg2ee eet~ @4

OUTER_SPRINT difficulty "hard"
INCLUDE ~%MOD_FOLDER%/lib/main_component.tpa~


/* ===================================================== *
 *  Imnesvale Mod : Are You Out Of Your Freaking Mind?!  *
 * ===================================================== */
BEGIN @3			// ~Are You Out Of Your Freaking Mind?!~
SUBCOMPONENT @0
REQUIRE_PREDICATE GAME_IS ~tob bgt bg2ee eet~ @4

OUTER_SPRINT difficulty "impossible"
INCLUDE ~%MOD_FOLDER%/lib/main_component.tpa~
